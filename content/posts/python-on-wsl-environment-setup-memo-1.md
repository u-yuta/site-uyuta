+++
title = "Windows WSLでのPython環境構築メモ 1"
author = ["u-yuta"]
date = 2024-04-14T16:29:00+09:00
tags = ["python"]
draft = false
ShowToc = true
+++

WSL上でのPython環境構築に関するメモ。ここでは方針のみ。具体的な手順は後ほど追加する。


## 前提 {#前提}

Pythonの用途は、データ解析と統計処理・可視化、物理・工学の計算機シミュレーション、数式処理など。

Numpy, Scipy等による数値計算、Matplotlib、Sympyによる


## 方針： ベース環境 {#方針-ベース環境}

システムのPython（OSが使用するPython）とは別に、「ベース環境」として普段使い用のPython環境をインストールする。

ベース環境は以下の用途で使う。

-   一時的な単発作業など、専用の仮想環境を作るまでもない作業
-   Jupyter Notebook/Lab の実行

ベース環境は [asdf](https://asdf-vm.com) を用いてインストールする。必要に応じてバージョンが切り替えられるようにするため。後述する仮想環境を有効にしていないときは、シェルの `python` コマンドでベース環境のPythonが実行される。


## 方針: 仮想環境 {#方針-仮想環境}

Python本体や使用ライブラリのバージョン違いによる不具合を避けて再現性を保つため、プロジェクトごとに実行環境を作って管理する。そのために仮想環境を使う。

仮想環境はプロジェクトのrootディレクトリの `.venv/` にインストールする。VSCodeで自動的に認識されるため。


## 方針： Jupyter での仮想環境の利用 {#方針-jupyter-での仮想環境の利用}

Jupyterは基本的にベース環境にのみインストールする。仮想環境ごとにJupyterをインストールすると次のような問題が出るため。

-   仮想環境ごとにJupyter, JupyterLab, ... をインストールする必要があり、手間とディスク容量がかかる。
-   プロジェクトを切り替えるたびにJupyterLabを起動し直したり、ルートフォルダの場所が変わるのでファイルを開き直したりする必要がある。

プロジェクトの仮想環境ごとにipykernelをインストールをして、その仮想環境をJupyter
のカーネルとして登録しておくと、上記の問題が避けられる。
